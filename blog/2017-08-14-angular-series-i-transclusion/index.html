<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="map[]"><title>Angular series I - Proyección de contenido (Content projection)</title><meta name=generator content="Hugo 0.69.2"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet type=text/css href=https://adrianabreu.github.io/css/main.css><link rel=stylesheet type=text/css href=https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800" rel=stylesheet><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js></script><script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--></head><body><div id=wrap><nav class="navbar navbar-default"><div class=container><div class=navbar-header><a class=navbar-brand href=https://adrianabreu.github.io><i class="fa fa-home"></i></a></div><div id=navbar><ul class="nav navbar-nav navbar-right"><li><a href=/>INICIO</a></li><li><a href=/blog/>BLOG</a></li><li><a href=/knowledge/>KNOWLEDGE</a></li><li><a href=/archive/>ARCHIVE</a></li></ul></div></div></nav><div class=container><div class=aa-blogpost><div class=aa-blogpost-header><div class=aa-blogpost-header_title><a href=/blog/2017-08-14-angular-series-i-transclusion/>Angular series I - Proyección de contenido (Content projection)</a></div><div class=aa-blogpost-header_date>14-08-2017</div></div></div><div class=aa-blogpost-content><p>Cuando creé este blog tenía bastante claro que uno de los objetivos principales era que me sirviera de utilidad para interiorizar lo que voy aprendiendo.
Y aunque he escrito ciertas cosas útiles para mi día a día no estoy registrando ni una centésima parte de la información que mi mente ha ido procesando estos
meses.</p><p>Así que voy a dedicarme a escribir un artículo semanal sobre un tema con el que llevo ya casi un año: <strong>Angular</strong>.</p><p>No tengo un roadmap definido. Sé que no quiero detenerme en los conceptos más básicos de Angular porque de eso existen miles de tutoriales. Por ejemplo
hoy quiero hablar de un concepto importantísimo pero que pasa desapercibido: La proyección de contenido (o transclusión para los viejos amigos de AngularJs).</p><p><strong>¿Qué es la proyección de contenido?</strong> Es la capacidad de pasar código html de un componente a otro. Siempre se habla de que los componentes deben ser
reusables al cien por cien, pero mucha gente acaba haciendo lo mismo.</p><p>La proyección de contenido es muy sencilla, partiendo de un componente <em>A</em> que tiene dos hijos <em>B</em> y <em>C</em> haremos que sea A quien pase el contenido a mostrar
en estos dos hijos. De hecho, para darle más &ldquo;gracia&rdquo;, el objetivo es que para una misma cadena el componente B muestre esta cadena en mayúsculas y el C en minúsculas.</p><p>Asumiendo que ya están los componentes definidos en sus respectivos módulos y demás, vamos a poner una estructura muy simple. La clave de esto es la
etiqueta <code>ng-content</code>que será reemplazada por el contenido que proyectemos.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>@Component</span>({
  <span style=color:#a6e22e>selector</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;app-b&#39;</span>,
  <span style=color:#a6e22e>template</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`&lt;h2&gt;&lt;ng-content&gt;&lt;/ng-content&gt;&lt;h2&gt;`</span>
})
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BComponent</span> {
}

<span style=color:#66d9ef>@Component</span>({
  <span style=color:#a6e22e>selector</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;app-c&#39;</span>,
  <span style=color:#a6e22e>template</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`&lt;div style=&#34;color: red&#34;&gt;&lt;ng-content&gt;&lt;/ng-content&gt;&lt;/div&gt;`</span>
})
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CComponent</span> {

}
</code></pre></div><p>Como vemos los componentes no hacen nada más que proyectar el contenido de su padre y decorar el mismo.</p><p>Ahora el componente A se encargará de mandar la información necesaria.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>@Component</span>({
  <span style=color:#a6e22e>selector</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;app-a&#39;</span>,
  <span style=color:#a6e22e>template</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`&lt;app-c&gt;{{title | uppercase }}&lt;/app-c&gt;
</span><span style=color:#e6db74>  &lt;app-b&gt;{{title | lowercase}} &lt;/app-b&gt;
</span><span style=color:#e6db74>  `</span>
})
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AComponent</span> {

  <span style=color:#a6e22e>title</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Content projection&#39;</span>;

}
</code></pre></div><p>Y esto nos genera como resultado&mldr;</p><p>¿Sencillo, verdad? Ahora solo queda un problema. ¿Que pasaría si quisieramos pasar diversas parte de un contenido? Pensemos en esta plantilla para un componente <strong>Artículo</strong>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>article</span>&gt;
  &lt;<span style=color:#f92672>header</span>&gt;&lt;<span style=color:#f92672>ng-content</span>&gt;&lt;/<span style=color:#f92672>ng-content</span>&gt;&lt;/<span style=color:#f92672>header</span>&gt;
  &lt;<span style=color:#f92672>section</span>&gt;&lt;<span style=color:#f92672>ng-content</span>&gt;&lt;/<span style=color:#f92672>ng-content</span>&gt;&lt;/<span style=color:#f92672>section</span>&gt;
  &lt;<span style=color:#f92672>footer</span>&gt;&lt;<span style=color:#f92672>ng-content</span>&gt;&lt;/<span style=color:#f92672>ng-content</span>&gt;&lt;/<span style=color:#f92672>footer</span>&gt;
&lt;/<span style=color:#f92672>article</span>&gt;</code></pre></div><p>Como vemos este &ldquo;artículo&rdquo;, soporta no uno, sino <strong>tres</strong> ng-content. ¿Como identificamos donde va lo que corresponde? Simplemente: nombrándolos.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>article</span>&gt;
  &lt;<span style=color:#f92672>header</span>&gt;
    &lt;<span style=color:#f92672>ng-content</span> <span style=color:#a6e22e>select</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.header&#34;</span>&gt;&lt;/<span style=color:#f92672>ng-content</span>&gt;
  &lt;/<span style=color:#f92672>header</span>&gt;
  &lt;<span style=color:#f92672>section</span>&gt;
    &lt;<span style=color:#f92672>ng-content</span> <span style=color:#a6e22e>select</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.section&#34;</span>&gt;&lt;/<span style=color:#f92672>ng-content</span>&gt;
  &lt;/<span style=color:#f92672>section</span>&gt;
  &lt;<span style=color:#f92672>footer</span>&gt;
    &lt;<span style=color:#f92672>ng-content</span> <span style=color:#a6e22e>select</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.footer&#34;</span>&gt;&lt;/<span style=color:#f92672>ng-content</span>&gt;
  &lt;/<span style=color:#f92672>footer</span>&gt;
&lt;/<span style=color:#f92672>article</span>&gt;</code></pre></div><p>En este caso le decimos al ng-content, que nos reemplace el contenido por el de aquellos elementos que tengan la clase del tipo correspondiente.</p><p>Se pueden usar etiquetas o directivas, <a href=https://angular-2-training-book.rangle.io/handout/components/projection.html>como explica el fabuloso libro de Rangle.io</a></p><p>Y si ahora nuestro componente padre nos indica el contenido de esas secciones&mldr;</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>ng-container</span> <span style=color:#960050;background-color:#1e0010>*</span><span style=color:#a6e22e>ngFor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;let datum of data&#34;</span>&gt;
  &lt;<span style=color:#f92672>article</span>&gt;
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;header&#34;</span>&gt;{{datum.header}}&lt;/<span style=color:#f92672>div</span>&gt;
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;section&#34;</span>&gt;{{datum.body}}&lt;/<span style=color:#f92672>div</span>&gt;
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;footer&#34;</span>&gt;{{datum.footer}}&lt;/<span style=color:#f92672>div</span>&gt;
  &lt;/<span style=color:#f92672>article</span>&gt;
&lt;/<span style=color:#f92672>ng-container</span>&gt;</code></pre></div><p>Obtendremos esto: voilá.</p><p>Como siempre, <a href=https://github.com/adrianabreu/angular-samples/tree/master/transclusion>tenéis el código fuente disponible en github</a>, espero que haya servido de ayuda, al menos a mí si que me ha servido.</p></div></div><div class=aa-navigator><div class=row><div class="col-xs-2 col-lg-3" style=text-align:right><a href=https://adrianabreu.github.io/blog/2017-10-08-breve-sumario/><i class="fa fa-2x fa-arrow-left" aria-hidden=true></i></a></div><div class="col-xs-8 col-lg-6 center"></div><div class="col-xs-2 col-lg-3"><a class="btn-floating btn-large paginate-button" href=https://adrianabreu.github.io/blog/2017-08-04-autodeploy-con-travis/><i class="fa fa-2x fa-arrow-right" aria-hidden=true></i></a></div></div></div></div></div></body></html>