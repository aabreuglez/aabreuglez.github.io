# This references a standard debian container from the
# Docker Hub https://registry.hub.docker.com/_/debian/
# Read more about containers on our dev center
# http://devcenter.wercker.com/docs/containers/index.html
box: debian
# You can also use services such as databases. Read more on our dev center:
# http://devcenter.wercker.com/docs/services/index.html
# services:
    # - postgres
    # http://devcenter.wercker.com/docs/services/postgresql.html

    # - mongo
    # http://devcenter.wercker.com/docs/services/mongodb.html

# This is the build pipeline. Pipelines are the core of wercker
# Read more about pipelines on our dev center
#
# http://devcenter.wercker.com/docs/pipelines/index.html
build:
    steps:
        - install-packages:
            packages: git 
        - script:
            name: download theme
            code: |
                $(git clone https://github.com/adrianabreu/blog-theme ./themes/material-design)
        - arjen/hugo-build:
            version: "0.14"
            theme: material-design
            flags: --buildDrafts=true
deploy:
    steps:
        - install-packages:
            packages: git ssh-client
        - leipert/git-push:
            gh_oauth: $GIT_TOKEN
            repo: adrianabreu/adrianabreu.github.io
            domain: adrianabreu.com
            branch: master
            basedir: public